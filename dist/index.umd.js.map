{"version":3,"file":"index.umd.js","sources":["../src/CloseIcon.jsx","../src/DownIcon.jsx","../src/Options.jsx","../src/index.jsx","../src/useComponentVisible.jsx"],"sourcesContent":["import React from 'react'\n\nexport default function CloseIcon() {\n  return (\n    <svg className='msl-close-icn'>\n      <line x1='0' y1='0' x2='15' y2='15' />\n      <line x1='0' y1='15' x2='15' y2='0' />\n    </svg>\n  )\n}\n","import React from 'react'\n\nexport default function DownIcon() {\n  return (\n    <svg className='msl-arrow-icn'>\n      <line x1='10' y1='15' x2='2' y2='7' />\n      <line x1='18' y1='7' x2='10' y2='15' />\n    </svg>\n  )\n}\n","import React from 'react'\n\nfunction Options({\n  opts,\n  singleSelect,\n  addValue,\n  checkValueExist,\n  value,\n  largeData,\n  menuOpen\n}) {\n  if (largeData && !menuOpen) return null\n  const optsArr = []\n  function addInArr(opts) {\n    for (const [i, opt] of opts.entries()) {\n      if (opt.type === 'group') {\n        optsArr.push(\n          <div key={opt.title + i} data-msl className='msl-grp-title'>\n            {opt.title}\n          </div>\n        )\n        if (opt.childs.length > 0) {\n          addInArr(opt.childs)\n        } else {\n          optsArr.push(\n            <option className='msl-option msl-option-disable'>\n              {opt.emptyDataLabel || 'No Data Found'}\n            </option>\n          )\n        }\n      } else {\n        optsArr.push(\n          <div\n            tabIndex='0'\n            key={opt.value + opt.label + i + 10}\n            {...(!singleSelect && { 'data-msl': true })}\n            style={{\n              ...(opt.style && opt.style)\n            }}\n            onClick={() => {\n              !opt.disabled && addValue(opt)\n            }}\n            onKeyPress={(e) => {\n              e.key === 'Enter' && !opt.disabled && addValue(opt)\n            }}\n            title={typeof opt.label === 'object' ? opt?.title : opt.label}\n            className={`msl-option ${checkValueExist(opt, value) ? 'msl-option-active' : ''\n              } ${opt.disabled ? 'msl-option-disable' : ''} ${opt.classes !== undefined ? opt.classes : ''\n              }`}\n            value={opt.value}\n          >\n            {opt.label}\n          </div>\n        )\n      }\n    }\n  }\n  addInArr(opts)\n  return <div>{optsArr}</div>\n}\n\nexport default Options\n","/* eslint-disable no-labels */\nimport React, { useState, useEffect, useRef } from 'react'\nimport CloseIcon from './CloseIcon.jsx'\nimport DownIcon from './DownIcon.jsx'\nimport Options from './Options'\nimport './styles.css'\nimport useComponentVisible from './useComponentVisible.jsx'\n\nMultiSelect.defaultProps = {\n  clearable: true,\n  downArrow: true,\n  width: 300,\n  singleSelect: false,\n  jsonValue: false,\n  defaultValue: '',\n  disableChip: false,\n  name: '',\n  style: {},\n  disabled: false,\n  limit: null,\n  emptyDataLabel: 'No Data Found',\n  placeholder: 'Select...',\n  onChange: () => { },\n  options: [\n    {\n      label: 'Empty',\n      value: '',\n      disabled: true,\n      style: { textAlign: 'center' }\n    }\n  ],\n  customValue: false\n}\n\nfunction MultiSelect({\n  options: userOptions,\n  width,\n  downArrowIcon,\n  closeIcon,\n  clearable,\n  downArrow,\n  onChange,\n  singleSelect,\n  jsonValue,\n  defaultValue,\n  className,\n  placeholder,\n  disableChip,\n  name,\n  style,\n  attr,\n  largeData,\n  disabled,\n  limit,\n  emptyDataLabel,\n  customValue\n}) {\n  const [value, setValue] = useState([])\n  const [options, setOptions] = useState(userOptions || [])\n  const [search, setSearch] = useState(null)\n  const inputFld = useRef(null)\n  const {\n    ref,\n    isComponentVisible: menuOpen,\n    setIsComponentVisible: setMenuOpen\n  } = useComponentVisible(false)\n\n  const getValueObjFromOptios = (defaultValue, options) => {\n    if (!defaultValue) return []\n    let defaultValArr = defaultValue\n    const extraValues = []\n    const searchedOptions = []\n\n    if (typeof defaultValue === 'string') {\n      defaultValArr = defaultValue.split(',')\n    }\n\n    const setExtraValue = (value) => {\n      if (typeof value === 'string') {\n        extraValues.push({ label: value, value })\n      } else if (typeof value === 'object') {\n        const newValueObj = { label: value, value }\n        if ('label' in value && typeof value.label === 'string') {\n          newValueObj.label = value.label\n        } else if ('title' in value) {\n          newValueObj.label = value.title\n        }\n        extraValues.push(newValueObj)\n      }\n    }\n\n    for (let i = 0; i < defaultValArr.length; i++) {\n      if (typeof defaultValArr[i] === 'string') {\n        const optObject = searchOptions(\n          defaultValArr[i],\n          options,\n          true,\n          'value'\n        )\n        if (optObject.length > 0) {\n          searchedOptions.push(optObject[0])\n        } else if (customValue) {\n          setExtraValue(defaultValArr[i])\n        }\n      } else if (typeof defaultValArr[i] === 'object') {\n        const optObject = searchOptions(\n          defaultValArr[i].value,\n          options,\n          true,\n          'value'\n        )\n        if (optObject.length > 0) {\n          searchedOptions.push(optObject[0])\n        } else if (customValue) {\n          setExtraValue(defaultValArr[i])\n        }\n      }\n    }\n\n    let customValuesGroup = []\n    if (extraValues.length) {\n      customValuesGroup = createCustomValueAndOption(extraValues)\n    }\n    setOptions([...options, ...customValuesGroup])\n    return [...searchedOptions, ...extraValues]\n  }\n  useEffect(() => {\n    setOptions(userOptions)\n  }, [userOptions])\n\n  useEffect(() => {\n    let preDefinedValue = getValueObjFromOptios(defaultValue, options)\n\n    if (singleSelect && preDefinedValue.length > 0) {\n      preDefinedValue = [preDefinedValue[0]]\n    }\n\n    setValue(preDefinedValue)\n  }, [defaultValue])\n\n  const setNewValue = (val) => {\n    setValue(val)\n    if (jsonValue) {\n      onChange(val)\n    } else {\n      let stringvalue = ''\n      stringvalue += val.map((itm) => itm.value)\n      onChange(stringvalue)\n    }\n  }\n\n  const checkValueExist = (value, arr) => {\n    const bool = arr.some((itm) => itm.value === value.value)\n    return bool\n  }\n\n  const filterCreateOpt = ({ label, value }) => {\n    if (typeof label !== 'object' && label.match(/Create \"|\"+/g)) {\n      label = label.replace(/Create \"|\"+/g, '')\n    }\n    return { label, value }\n  }\n\n  const addValue = (newValObj) => {\n    let tmp = [...value]\n    if (singleSelect) {\n      if (checkValueExist(newValObj, value)) {\n        tmp = []\n      } else {\n        tmp = [newValObj]\n      }\n    } else {\n      if (!checkValueExist(newValObj, value)) {\n        if (limit === null) {\n          tmp.push(newValObj)\n        } else if (limit > value.length) {\n          tmp.push(newValObj)\n        }\n      } else {\n        tmp = tmp.filter((itm) => itm.value !== newValObj.value)\n      }\n    }\n    setNewValue(tmp)\n    setSearch(null)\n    // clear search input\n    if (inputFld.current) {\n      inputFld.current.innerHTML = ''\n    }\n  }\n\n  const deleteValue = (i) => {\n    const tmp = [...value]\n    tmp.splice(i, 1)\n    setNewValue(tmp)\n  }\n\n  const clearValue = () => {\n    setNewValue([])\n  }\n\n  const showSearchOption = () => {\n    if (!singleSelect && !disableChip) {\n      return true\n    } else if (singleSelect && !value.length) {\n      return true\n    } else if (!singleSelect && disableChip && !value.length) {\n      return true\n    }\n    return false\n  }\n\n  const searchOptions = (str, options, exact, type) => {\n    const searchedOptions = []\n    const searchedOptValues = []\n\n    const searchInOptions = (opt) => {\n      for (let i = 0; i < opt.length; i++) {\n        if (opt[i]?.type === 'group') {\n          searchInOptions(opt[i].childs)\n        } else if (!exact) {\n          if (\n            typeof opt[i].label !== 'object' &&\n            opt[i].label.match(new RegExp(`${str}`, 'gi'))\n          ) {\n            searchedOptions.push(opt[i])\n          } else if (\n            typeof opt[i].label === 'object' &&\n            opt[i]?.title?.match(new RegExp(`${str}`, 'gi'))\n          ) {\n            searchedOptions.push(opt[i])\n          } else if (opt[i].value.match(new RegExp(`${str}`, 'gi'))) {\n            searchedOptValues.push(opt[i])\n          }\n        } else if (exact) {\n          if (opt[i][type] === str) {\n            searchedOptions.push(opt[i])\n          }\n        }\n        if (typeof opt[i].label === 'object' && !('title' in opt[i])) {\n          console.warn(\n            '[multiselect] you must provide a title property as typeof string, if you want to render jsx in option label'\n          )\n        }\n      }\n    }\n    searchInOptions(options)\n    return [...searchedOptions, ...searchedOptValues]\n  }\n\n  const createCustomValueAndOption = (valueObj) => {\n    const customValuesGroup = []\n    const customValuesIndx = options.findIndex(\n      (opt) => opt?.type === 'group' && opt?.title === 'Custom Values'\n    )\n\n    if (customValuesIndx === -1) {\n      customValuesGroup.push({\n        title: 'Custom Values',\n        type: 'group',\n        childs: [...valueObj]\n      })\n    } else if (Array.isArray(valueObj)) {\n      valueObj.map((value) => options[customValuesIndx].childs.push(value))\n    } else if (typeof valueObj === 'object') {\n      options[customValuesIndx].childs.push(valueObj)\n    }\n    setOptions([...options, ...customValuesGroup])\n\n    return customValuesGroup\n  }\n\n  const handleSearchAndCustomValue = (e) => {\n    const textValue = e.target.textContent.trim().replace(/,+/g, '')\n\n    if (textValue) {\n      const newValue = {\n        label: `Create \"${textValue}\"`,\n        value: textValue\n      }\n\n      const searchedOptions = searchOptions(textValue, options)\n\n      if (searchedOptions.length) {\n        if (customValue) {\n          const exactOptionValue = searchOptions(\n            textValue,\n            options,\n            true,\n            'value'\n          )\n\n          !exactOptionValue.length && searchedOptions.push(newValue)\n        }\n        setSearch(searchedOptions)\n      } else {\n        customValue ? setSearch([newValue]) : setSearch([])\n      }\n\n      const filteredNewValue = filterCreateOpt(newValue)\n\n      if (e.key === 'Enter' || e.key === ',') {\n        if (\n          customValue &&\n          !searchedOptions.length &&\n          !checkValueExist(filteredNewValue, value)\n        ) {\n          createCustomValueAndOption(filteredNewValue)\n\n          addValue(newValue)\n        } else {\n          search.length > 0 && addValue(search[0])\n        }\n      }\n    } else {\n      setSearch(null)\n    }\n  }\n\n  const checkIsDropdownHandle = (target) => {\n    if (\n      target.hasAttribute('dropdown-handle') ||\n      target.parentNode.hasAttribute('dropdown-handle') ||\n      target.parentNode.parentNode.hasAttribute('dropdown-handle')\n    ) {\n      return true\n    }\n  }\n\n  const openMenu = ({ target }) => {\n    if (checkIsDropdownHandle(target)) {\n      setMenuOpen(!menuOpen)\n    } else {\n      setMenuOpen(true)\n    }\n  }\n\n  const showChipText = (opt) => {\n    if (typeof opt.label === 'object') {\n      return opt?.title || opt.value\n    } else {\n      return opt.label\n    }\n  }\n\n  return (\n    <div\n      ref={ref}\n      {...attr}\n      onClick={openMenu}\n      tabIndex='0'\n      onKeyPress={openMenu}\n      style={{ ...style, width }}\n      className={`msl-wrp msl-vars ${className} ${disabled ? 'msl-disabled' : ''\n        }`}\n    >\n      <input name={name} type='hidden' value={value?.map((itm) => itm.value)} />\n      <div data-msl className={`msl ${menuOpen ? 'msl-active' : ''} `}>\n        <div\n          data-msl\n          className='msl-input-wrp'\n          style={{\n            width: `calc(100% - ${clearable && downArrow\n                ? '60px'\n                : downArrow || clearable\n                  ? '40px'\n                  : '5px'\n              }`\n          }}\n        >\n          {!singleSelect &&\n            !disableChip &&\n            value.map((val, i) => (\n              <div key={`msl-chip-${i + 11}`} className='msl-chip'>\n                {showChipText(val)}\n                <div\n                  role='button'\n                  aria-label='delete-value'\n                  onClick={() => deleteValue(i)}\n                  onKeyPress={() => deleteValue(i)}\n                  tabIndex='0'\n                  className='msl-btn msl-chip-delete msl-flx'\n                >\n                  <CloseIcon />\n                </div>\n                <span />\n              </div>\n            ))}\n          {!singleSelect && disableChip && value.length === 1 ? (\n            <span\n              className='msl-single-value'\n              data-msl\n              style={{\n                width:\n                  width -\n                  (clearable && downArrow\n                    ? 60\n                    : downArrow || clearable\n                      ? 40\n                      : 5)\n              }}\n            >\n              {value[0].label}d\n            </span>\n          ) : (\n              disableChip &&\n              value.length > 1 && (\n                <span\n                  className='msl-single-value'\n                  data-msl\n                  style={{\n                    width:\n                      width -\n                      (clearable && downArrow\n                        ? 60\n                        : downArrow || clearable\n                          ? 40\n                          : 5)\n                  }}\n                >\n                  {value.length} Selected\n                </span>\n              )\n            )}\n          {singleSelect && value.length === 1 && (\n            <span\n              className='msl-single-value'\n              data-msl\n              style={{\n                width:\n                  width -\n                  (clearable && downArrow\n                    ? 60\n                    : downArrow || clearable\n                      ? 40\n                      : 5)\n              }}\n            >\n              {value[0].label}\n            </span>\n          )}\n          {showSearchOption() && (\n            <div\n              data-msl\n              data-placeholder={placeholder}\n              className='msl-input'\n              contentEditable={!disabled}\n              onKeyUp={handleSearchAndCustomValue}\n              ref={inputFld}\n            />\n          )}\n        </div>\n        {(clearable || downArrow) && (\n          <div className='msl-actions msl-flx'>\n            {clearable && value.length > 0 && (\n              <div\n                role='button'\n                aria-label='close-menu'\n                onClick={clearValue}\n                onKeyPress={clearValue}\n                tabIndex='0'\n                className='msl-btn msl-clear-btn msl-flx'\n              >\n                {closeIcon || <CloseIcon />}\n              </div>\n            )}\n            {downArrow && (\n              <div\n                role='button'\n                tabIndex='0'\n                dropdown-handle='true'\n                className='msl-btn msl-arrow-btn msl-flx'\n                style={{ ...(menuOpen && { transform: 'rotate(180deg)' }) }}\n              >\n                {downArrowIcon || <DownIcon />}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n      <div className='msl-options'>\n        {!search && options.length ? (\n          <Options\n            opts={options}\n            {...{\n              singleSelect,\n              addValue,\n              checkValueExist,\n              value,\n              largeData,\n              menuOpen\n            }}\n          />\n        ) : search && search.length ? (\n          <Options\n            opts={search}\n            {...{\n              singleSelect,\n              addValue,\n              checkValueExist,\n              value,\n              largeData,\n              menuOpen\n            }}\n          />\n        ) : (\n              ((search && !search.length) || (options && !options.length)) && (\n                <option className='msl-option msl-option-disable'>\n                  {emptyDataLabel}\n                </option>\n              )\n            )}\n      </div>\n    </div>\n  )\n}\n\nexport default MultiSelect\n","import { useRef, useState, useEffect } from 'react'\n\nexport default function useComponentVisible(initialIsVisible) {\n  const [isComponentVisible, setIsComponentVisible] = useState(initialIsVisible)\n  const ref = useRef(null)\n\n  const handleHideDropdown = (event) => {\n    if (event.key === 'Escape') {\n      setIsComponentVisible(false)\n    }\n  }\n\n  const handleClickOutside = (event) => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      document.removeEventListener('keydown', handleHideDropdown, true)\n      document.removeEventListener('click', handleClickOutside, true)\n      setIsComponentVisible(false)\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleHideDropdown, true)\n    document.addEventListener('click', handleClickOutside, true)\n    return () => {\n      document.removeEventListener('keydown', handleHideDropdown, true)\n      document.removeEventListener('click', handleClickOutside, true)\n    }\n  })\n\n  return { ref, isComponentVisible, setIsComponentVisible }\n}\n"],"names":["CloseIcon","React","className","x1","y1","x2","y2","DownIcon","Options","singleSelect","addValue","checkValueExist","value","largeData","menuOpen","optsArr","addInArr","opts","i","opt","type","push","key","title","data-msl","childs","length","emptyDataLabel","tabIndex","label","style","onClick","disabled","onKeyPress","e","undefined","classes","entries","MultiSelect","userOptions","options","width","downArrowIcon","closeIcon","clearable","downArrow","onChange","jsonValue","defaultValue","placeholder","disableChip","name","attr","limit","customValue","useState","setValue","setOptions","search","setSearch","inputFld","useRef","initialIsVisible","isComponentVisible","setIsComponentVisible","ref","handleHideDropdown","event","handleClickOutside","current","contains","target","document","removeEventListener","useEffect","addEventListener","useComponentVisible","setMenuOpen","preDefinedValue","defaultValArr","extraValues","searchedOptions","split","setExtraValue","newValueObj","optObject","searchOptions","customValuesGroup","createCustomValueAndOption","getValueObjFromOptios","setNewValue","val","stringvalue","map","itm","arr","some","newValObj","tmp","filter","innerHTML","deleteValue","splice","clearValue","str","exact","searchedOptValues","searchInOptions","match","RegExp","_opt$i2","_opt$i2$title","console","warn","valueObj","customValuesIndx","findIndex","Array","isArray","openMenu","hasAttribute","parentNode","checkIsDropdownHandle","role","aria-label","data-placeholder","contentEditable","onKeyUp","textValue","textContent","trim","replace","newValue","filteredNewValue","filterCreateOpt","dropdown-handle","transform","defaultProps","textAlign"],"mappings":"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"}