{"version":3,"file":"index.modern.js","sources":["../src/CloseIcon.jsx","../src/DownIcon.jsx","../src/Options.jsx","../src/index.jsx","../src/useComponentVisible.jsx"],"sourcesContent":["import React from 'react'\n\nexport default function CloseIcon() {\n  return (\n    <svg className='msl-close-icn'>\n      <line x1='0' y1='0' x2='15' y2='15' />\n      <line x1='0' y1='15' x2='15' y2='0' />\n    </svg>\n  )\n}\n","import React from 'react'\n\nexport default function DownIcon() {\n  return (\n    <svg className='msl-arrow-icn'>\n      <line x1='10' y1='15' x2='2' y2='7' />\n      <line x1='18' y1='7' x2='10' y2='15' />\n    </svg>\n  )\n}\n","import React from 'react'\n\nfunction Options({\n  opts,\n  singleSelect,\n  addValue,\n  checkValueExist,\n  value,\n  largeData,\n  menuOpen\n}) {\n  if (largeData && !menuOpen) return null\n  const optsArr = []\n  function addInArr(opts) {\n    for (const [i, opt] of opts.entries()) {\n      if (opt.type === 'group') {\n        optsArr.push(\n          <div key={opt.title + i} data-msl className='msl-grp-title'>\n            {opt.title}\n          </div>\n        )\n        if (opt.childs.length > 0) {\n          addInArr(opt.childs)\n        } else {\n          optsArr.push(\n            <option className='msl-option msl-option-disable'>\n              {opt.emptyDataLabel || 'No Data Found'}\n            </option>\n          )\n        }\n      } else {\n        optsArr.push(\n          <option\n            tabIndex='0'\n            key={opt.value + opt.label + i + 10}\n            {...(!singleSelect && { 'data-msl': true })}\n            style={{\n              ...(opt.style && opt.style)\n            }}\n            onClick={() => {\n              !opt.disabled && addValue(opt)\n            }}\n            onKeyPress={(e) => {\n              e.key === 'Enter' && !opt.disabled && addValue(opt)\n            }}\n            title={opt.label}\n            className={`msl-option\n             ${checkValueExist(opt, value) ? 'msl-option-active' : ''} \n              ${opt.disabled ? 'msl-option-disable' : ''} ${opt.classes !== undefined ? opt.classes : ''\n              }`}\n            value={opt.value}\n          >\n            {opt.label}\n          </option>\n        )\n      }\n    }\n  }\n  addInArr(opts)\n  return <div>{optsArr}</div>\n}\n\nexport default Options\n","/* eslint-disable no-labels */\nimport React, { useState, useEffect, useRef } from 'react'\nimport CloseIcon from './CloseIcon.jsx'\nimport DownIcon from './DownIcon.jsx'\nimport Options from './Options'\nimport './styles.css'\nimport useComponentVisible from './useComponentVisible.jsx'\n\nMultiSelect.defaultProps = {\n  clearable: true,\n  downArrow: true,\n  width: 300,\n  singleSelect: false,\n  jsonValue: false,\n  defaultValue: '',\n  disableChip: false,\n  name: '',\n  style: {},\n  disabled: false,\n  limit: null,\n  emptyDataLabel: 'No Data Found',\n  placeholder: 'Select...',\n  onChange: () => {},\n  options: [\n    {\n      label: 'Empty',\n      value: '',\n      disabled: true,\n      style: { textAlign: 'center' }\n    }\n  ],\n  customValue: false\n}\n\nfunction MultiSelect({\n  options: userOptions,\n  width,\n  downArrowIcon,\n  closeIcon,\n  clearable,\n  downArrow,\n  onChange,\n  singleSelect,\n  jsonValue,\n  defaultValue,\n  className,\n  placeholder,\n  disableChip,\n  name,\n  style,\n  attr,\n  largeData,\n  disabled,\n  limit,\n  emptyDataLabel,\n  customValue\n}) {\n  // const [menuOpen, setMenuOpen] = useState(false)\n  const [value, setValue] = useState([])\n  const [options, setOptions] = useState(userOptions || [])\n  const [search, setSearch] = useState(null)\n  const inputFld = useRef(null)\n  const {\n    ref,\n    isComponentVisible: menuOpen,\n    setIsComponentVisible: setMenuOpen\n  } = useComponentVisible(false)\n\n  const preparDefaultValue = (defaultValue) => {\n    let defaultValArr = defaultValue\n    if (typeof defaultValue === 'string') {\n      defaultValArr = defaultValue.split(',')\n    }\n    const optionString = JSON.stringify(options)\n    const extraValues = []\n\n    const setExtraValue = (value) => {\n      extraValues.push({ label: value, value })\n      return { label: value, value }\n    }\n\n    const defaultValueObj = []\n\n    for (const value of defaultValArr) {\n      const matchedVals = optionString.match(\n        new RegExp(\n          `{+?.[^{]*?\"${value\n            .replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&') // escape special chars\n            .replace(/\"/g, '\\\\\\\\$&')}\"}`, // escape \" as \\\\\n          'g'\n        )\n      )\n\n      if (matchedVals) {\n        if (matchedVals.length === 1) {\n          defaultValueObj.push(JSON.parse(matchedVals))\n        } else if (matchedVals.length > 1) {\n          defaultValueObj.push(JSON.parse(`[${matchedVals.join(',')}]`))\n        }\n      } else if (value !== '' && value !== null && customValue) {\n        setExtraValue(value)\n        defaultValueObj.push({ label: value, value })\n      }\n    }\n\n    setOptions([...options, ...extraValues])\n    return defaultValueObj\n  }\n\n  const filterExtraCustomVal = (valArrObj) => {\n    const optionString = JSON.stringify(options)\n    return valArrObj.filter(\n      (obj) =>\n        !JSON.parse(\n          optionString.match(new RegExp(`{+?.[^{]*?${obj.value}\"}`, 'g'))\n        )\n    )\n  }\n\n  useEffect(() => {\n    setOptions(userOptions)\n  }, [userOptions])\n\n  useEffect(() => {\n    let preDefinedValue = []\n    if (defaultValue !== '' || defaultValue.length > 0) {\n      // when default value is string and value separated comma\n      if (typeof defaultValue === 'string') {\n        preDefinedValue = preparDefaultValue(defaultValue)\n        if (singleSelect && preDefinedValue.length > 1) {\n          preDefinedValue = [preDefinedValue[0]]\n        }\n      } else if (\n        Array.isArray(defaultValue) &&\n        defaultValue.length > 0 &&\n        typeof defaultValue[0] !== 'string'\n      ) {\n        // when default value is array of object\n        preDefinedValue = defaultValue // set array as default\n        const extraValue = filterExtraCustomVal(defaultValue)\n        setOptions([...options, ...extraValue])\n        if (singleSelect && preDefinedValue.length > 1) {\n          preDefinedValue = [preDefinedValue[0]]\n        }\n      } else if (Array.isArray(defaultValue) && defaultValue.length > 0) {\n        // when default value is array of string\n        preDefinedValue = preparDefaultValue(defaultValue)\n        if (singleSelect && preDefinedValue.length > 1) {\n          preDefinedValue = [preDefinedValue[0]]\n        }\n      }\n    }\n    setValue(preDefinedValue)\n  }, [defaultValue])\n\n  const setNewValue = (val) => {\n    setValue(val)\n    if (jsonValue) {\n      onChange(val)\n    } else {\n      let stringvalue = ''\n      stringvalue += val.map((itm) => itm.value)\n      onChange(stringvalue)\n    }\n  }\n\n  const checkValueExist = (value, arr) => {\n    const bool = arr.some((itm) => itm.value === value.value)\n    return bool\n  }\n\n  const filterCreateOpt = ({ label, value }) => {\n    if (label.match(/Create \"|\"+/g)) {\n      label = label.replace(/Create \"|\"+/g, '')\n    }\n    return { label, value }\n  }\n\n  const addValue = (newValObj) => {\n    newValObj = filterCreateOpt(newValObj)\n    let tmp = [...value]\n    if (singleSelect) {\n      tmp = [newValObj]\n    } else {\n      if (!checkValueExist(newValObj, value)) {\n        if (limit === null) {\n          tmp.push(newValObj)\n        } else if (limit > value.length) {\n          tmp.push(newValObj)\n        }\n      } else {\n        tmp = tmp.filter((itm) => itm.value !== newValObj.value)\n      }\n    }\n    setNewValue(tmp)\n    setSearch(null)\n    // clear input\n    inputFld.current.innerHTML = ''\n  }\n\n  const deleteValue = (i) => {\n    const tmp = [...value]\n    tmp.splice(i, 1)\n    setNewValue(tmp)\n  }\n\n  const clearValue = () => {\n    setNewValue([])\n  }\n  const showSearchOption = () => {\n    if (!singleSelect && !disableChip) {\n      return true\n    } else if (singleSelect && !value.length) {\n      return true\n    } else if (!singleSelect && disableChip && !value.length) {\n      return true\n    }\n    return false\n  }\n\n  const searchValue = (e) => {\n    const textValue = e.target.textContent.trim().replace(/,+/g, '')\n\n    if (textValue) {\n      const newValue = {\n        label: `Create \"${textValue}\"`,\n        value: textValue\n      }\n\n      const optionsString = JSON.stringify(options)\n\n      const searchedOptions = optionsString.match(\n        new RegExp(\n          `{\"label\":+?.[^{]*?(${textValue.replace(\n            /[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\n            '\\\\$&'\n          )})+?.[^{]*?}`,\n          'gi'\n        )\n      )\n\n      if (searchedOptions) {\n        const searchedOptionsArr = JSON.parse(`[${searchedOptions}]`)\n\n        if (customValue) {\n          const exactOptionValue = optionsString.match(\n            new RegExp(\n              `{\"label\":(.[^{]*?)\"value\":\"${textValue.replace(\n                /[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\n                '\\\\$&'\n              )}\"}`,\n              'gi'\n            )\n          )\n\n          !exactOptionValue && searchedOptionsArr.push(newValue)\n        }\n        setSearch(searchedOptionsArr)\n      } else {\n        customValue ? setSearch([newValue]) : setSearch([])\n      }\n\n      if (e.key === 'Enter' || e.key === ',') {\n        if (\n          customValue &&\n          !searchedOptions &&\n          !checkValueExist(filterCreateOpt(newValue), value)\n        ) {\n          setOptions([...options, filterCreateOpt(newValue)])\n          addValue(newValue)\n        } else {\n          search.length > 0 && addValue(search[0])\n        }\n      }\n    } else {\n      setSearch(null)\n    }\n  }\n\n  const checkIsDropdownHandle = (target) => {\n    if (\n      target.hasAttribute('dropdown-handle') ||\n      target.parentNode.hasAttribute('dropdown-handle') ||\n      target.parentNode.parentNode.hasAttribute('dropdown-handle')\n    ) {\n      return true\n    }\n  }\n\n  const openMenu = ({ target }) => {\n    if (checkIsDropdownHandle(target)) {\n      setMenuOpen(!menuOpen)\n    } else {\n      setMenuOpen(true)\n    }\n  }\n\n  return (\n    <div\n      ref={ref}\n      {...attr}\n      onClick={openMenu}\n      tabIndex='0'\n      onKeyPress={openMenu}\n      style={{ ...style, width }}\n      className={`msl-wrp msl-vars ${className} ${\n        disabled ? 'msl-disabled' : ''\n      }`}\n    >\n      <input name={name} type='hidden' value={value.map((itm) => itm.value)} />\n      <div data-msl className={`msl ${menuOpen ? 'msl-active' : ''} `}>\n        <div\n          data-msl\n          className='msl-input-wrp'\n          style={{\n            width: `calc(100% - ${\n              clearable && downArrow\n                ? '60px'\n                : downArrow || clearable\n                ? '40px'\n                : '5px'\n            }`\n          }}\n        >\n          {!singleSelect &&\n            !disableChip &&\n            value.map((val, i) => (\n              <div key={`msl-chip-${i + 11}`} className='msl-chip'>\n                {val.label}\n                <div\n                  role='button'\n                  aria-label='delete-value'\n                  onClick={() => deleteValue(i)}\n                  onKeyPress={() => deleteValue(i)}\n                  tabIndex='0'\n                  className='msl-btn msl-chip-delete msl-flx'\n                >\n                  <CloseIcon />\n                </div>\n                <span />\n              </div>\n            ))}\n          {!singleSelect && disableChip && value.length === 1 ? (\n            <span\n              className='msl-single-value'\n              data-msl\n              style={{\n                width:\n                  width -\n                  (clearable && downArrow\n                    ? 60\n                    : downArrow || clearable\n                    ? 40\n                    : 5)\n              }}\n            >\n              {value[0].label}d\n            </span>\n          ) : (\n            disableChip &&\n            value.length > 1 && (\n              <span\n                className='msl-single-value'\n                data-msl\n                style={{\n                  width:\n                    width -\n                    (clearable && downArrow\n                      ? 60\n                      : downArrow || clearable\n                      ? 40\n                      : 5)\n                }}\n              >\n                {value.length} Selected\n              </span>\n            )\n          )}\n          {singleSelect && value.length === 1 && (\n            <span\n              className='msl-single-value'\n              data-msl\n              style={{\n                width:\n                  width -\n                  (clearable && downArrow\n                    ? 60\n                    : downArrow || clearable\n                    ? 40\n                    : 5)\n              }}\n            >\n              {value[0].label}\n            </span>\n          )}\n          {showSearchOption() && (\n            <div\n              data-msl\n              data-placeholder={placeholder}\n              className='msl-input'\n              contentEditable={!disabled}\n              onKeyUp={searchValue}\n              ref={inputFld}\n            />\n          )}\n        </div>\n        {(clearable || downArrow) && (\n          <div className='msl-actions msl-flx'>\n            {clearable && value.length > 0 && (\n              <div\n                role='button'\n                aria-label='close-menu'\n                onClick={clearValue}\n                onKeyPress={clearValue}\n                tabIndex='0'\n                className='msl-btn msl-clear-btn msl-flx'\n              >\n                {closeIcon || <CloseIcon />}\n              </div>\n            )}\n            {downArrow && (\n              <div\n                role='button'\n                tabIndex='0'\n                dropdown-handle='true'\n                className='msl-btn msl-arrow-btn msl-flx'\n                style={{ ...(menuOpen && { transform: 'rotate(180deg)' }) }}\n              >\n                {downArrowIcon || <DownIcon />}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n      <div className='msl-options'>\n        {!search && options.length ? (\n          <Options\n            opts={options}\n            {...{\n              singleSelect,\n              addValue,\n              checkValueExist,\n              value,\n              largeData,\n              menuOpen\n            }}\n          />\n        ) : search && search.length ? (\n          <Options\n            opts={search}\n            {...{\n              singleSelect,\n              addValue,\n              checkValueExist,\n              value,\n              largeData,\n              menuOpen\n            }}\n          />\n        ) : (\n          ((search && !search.length) || (options && !options.length)) && (\n            <option className='msl-option msl-option-disable'>\n              {emptyDataLabel}\n            </option>\n          )\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default MultiSelect\n","import { useRef, useState, useEffect } from 'react'\n\nexport default function useComponentVisible(initialIsVisible) {\n  const [isComponentVisible, setIsComponentVisible] = useState(initialIsVisible)\n  const ref = useRef(null)\n\n  const handleHideDropdown = (event) => {\n    if (event.key === 'Escape') {\n      setIsComponentVisible(false)\n    }\n  }\n\n  const handleClickOutside = (event) => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      document.removeEventListener('keydown', handleHideDropdown, true)\n      document.removeEventListener('click', handleClickOutside, true)\n      setIsComponentVisible(false)\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleHideDropdown, true)\n    document.addEventListener('click', handleClickOutside, true)\n    return () => {\n      document.removeEventListener('keydown', handleHideDropdown, true)\n      document.removeEventListener('click', handleClickOutside, true)\n    }\n  })\n\n  return { ref, isComponentVisible, setIsComponentVisible }\n}\n"],"names":["CloseIcon","React","className","x1","y1","x2","y2","DownIcon","Options","opts","singleSelect","addValue","checkValueExist","value","largeData","menuOpen","optsArr","addInArr","i","opt","entries","type","push","key","title","data-msl","childs","length","emptyDataLabel","label","style","disabled","e","undefined","classes","MultiSelect","options","userOptions","width","downArrowIcon","closeIcon","clearable","downArrow","onChange","jsonValue","defaultValue","placeholder","disableChip","name","attr","limit","customValue","setValue","useState","setOptions","search","setSearch","inputFld","useRef","ref","isComponentVisible","setIsComponentVisible","setMenuOpen","initialIsVisible","handleHideDropdown","event","handleClickOutside","current","contains","target","document","removeEventListener","useEffect","addEventListener","useComponentVisible","preparDefaultValue","defaultValArr","split","optionString","JSON","stringify","extraValues","setExtraValue","defaultValueObj","matchedVals","match","RegExp","replace","parse","join","preDefinedValue","Array","isArray","extraValue","valArrObj","filter","obj","filterExtraCustomVal","setNewValue","val","stringvalue","map","itm","arr","some","filterCreateOpt","newValObj","tmp","innerHTML","deleteValue","splice","clearValue","openMenu","hasAttribute","parentNode","checkIsDropdownHandle","role","aria-label","onClick","onKeyPress","tabIndex","data-placeholder","contentEditable","onKeyUp","textValue","textContent","trim","newValue","optionsString","searchedOptions","searchedOptionsArr","dropdown-handle","transform","defaultProps","textAlign"],"mappings":"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"}